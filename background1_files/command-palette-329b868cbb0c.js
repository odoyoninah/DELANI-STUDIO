"use strict";(()=>{var ct=Object.defineProperty;var i=(y,v)=>ct(y,"name",{value:v,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[9016],{80810:(y,v,c)=>{var a=c(93673),g=Object.defineProperty,T=Object.getOwnPropertyDescriptor,m=i((e,t,s,o)=>{for(var r=o>1?void 0:o?T(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&g(t,s,r),r},"__decorateClass");const p="*";let h=i(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=""}active(e,t){return this.scopeTypeMatch(e.type)&&this.modeMatch(t)}scopeTypeMatch(e){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(e):!0}modeMatch(e){return this.char===p||this.char===e}character(){return this.char===p?"":this.char}},"CommandPaletteModeElement");m([a.Lj],h.prototype,"char",2),m([a.Lj],h.prototype,"placeholder",2),m([a.Lj],h.prototype,"scopeTypes",2),h=m([a.Ih],h);var u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,C=i((e,t,s,o)=>{for(var r=o>1?void 0:o?b(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&u(t,s,r),r},"command_palette_tip_element_decorateClass");const j="*",z="";let S=i(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=j,this.mode=j,this.matchMode=z,this.value=j,this.onEmpty=!1,this.onError=!1}connectedCallback(){this.hidden=!0}available(e,t=!1,s=!1){return this.valueMatch(e.text)&&this.scopeTypeMatch(e.scope.type)&&this.modeMatch(e.mode)&&this.showOnEmpty(t)&&this.showOnError(s)}toggle(e,t=!1,s=!1){this.hidden=!this.available(e,t,s)}valueMatch(e){return this.value===j||this.value===e}scopeTypeMatch(e){return this.scopeTypes===j||JSON.parse(this.scopeTypes).includes(e)}modeMatch(e){if(this.matchMode===z)return this.mode===j||this.mode===e;{const t=new RegExp(this.matchMode);return e.match(t)!==null}}showOnEmpty(e){return this.onEmpty?e:!0}showOnError(e){return this.onError?e:!0}},"CommandPaletteTipElement");C([a.Lj],S.prototype,"scopeTypes",2),C([a.Lj],S.prototype,"mode",2),C([a.Lj],S.prototype,"matchMode",2),C([a.Lj],S.prototype,"value",2),C([a.Lj],S.prototype,"onEmpty",2),C([a.Lj],S.prototype,"onError",2),S=C([a.Ih],S);var ut=c(6119),xe=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,H=i((e,t,s,o)=>{for(var r=o>1?void 0:o?Pe(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&xe(t,s,r),r},"command_palette_token_element_decorateClass");let _=i(class extends HTMLElement{constructor(){super(...arguments);this.type="",this.id="",this.text="",this.value=""}},"CommandPaletteTokenElement");H([a.Lj],_.prototype,"type",2),H([a.Lj],_.prototype,"id",2),H([a.Lj],_.prototype,"text",2),H([a.Lj],_.prototype,"value",2),_=H([a.Ih],_);var O=c(7357),Le=c(17253),V=c(56153),je=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,k=i((e,t,s,o)=>{for(var r=o>1?void 0:o?_e(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&je(t,s,r),r},"command_palette_item_stack_element_decorateClass");let D=i(class extends HTMLElement{constructor(){super(...arguments);this.topGroupThreshold=6.5,this.maxHeightVh=65,this.showDebugInfo=!1,this.octicons={},this.tryDefaultSelection=!1,this.eventListenersBound=!1,this.currentHeight=0,this.items={},this.history={}}get commandPalette(){return this.closest("command-palette")}connectedCallback(){if(this.classList.add("rounded-bottom-2"),this.commandPalette&&!this.commandPalette.multiPageEnabled){const e=this.commandPalette.querySelector(".js-command-local-provider-octicons");if(e){const t=Array.from(e.children).map(s=>({id:s.getAttribute("data-local-provider-octicon-id"),svg:s.innerHTML}));this.commandPalette.cacheIcons(t)}}}get selectedItem(){return this.findSelectedElement()}set selectedItem(e){const t=this.findSelectedElement();t&&(t.selected=!1),e&&(e.selected=!0,this.selectedItemChanged(e.item))}get selectedItemIsTopResult(){var e;const t=this.findGroup(O.O.topGroupId);return t&&t.itemNodes.length>0?t.firstItem.itemId===((e=this.selectedItem)==null?void 0:e.itemId):!1}findSelectedElement(){return this.querySelector("command-palette-item[data-selected]")}navigate(e){var t,s;this.tryDefaultSelection=!1;const o=e>0,r={behavior:"smooth",block:"nearest"};if(this.selectedItem){let n;if(o?n=(t=this.selectedItem)==null?void 0:t.nextElementSibling:n=(s=this.selectedItem)==null?void 0:s.previousElementSibling,n)this.selectedItem=n,this.selectedItem.scrollIntoView(r);else if(this.selectedItem){const l=this.visibleGroups[this.calculateIndex(e)];l.scrollIntoView(r),o?this.selectedItem=l.firstItem:this.selectedItem=l.lastItem}}else this.selectedItem=this.firstItem}calculateIndex(e){var t;let s=this.visibleGroups.findIndex(n=>{var l;return n.groupId===((l=this.selectedItem)==null?void 0:l.item.group)});((t=this.findGroup(O.O.topGroupId))==null?void 0:t.firstItem)===this.selectedItem&&(s=0);const o=s+e,r=this.visibleGroups.length;return(o%r+r)%r}historyItems(e){return this.history[e]||(this.history[e]={}),this.history[e]}addItemToHistory(e,t,s){const o=this.historyItems(t),r=s.calculateScore(e);o[s.id]=r}addItems(e,t,s=!1){for(const o of t)this.addItemToHistory(e.text,e.path,o),this.items[o.id]=o,s&&this.prefillHistory(o,e);(0,V.D)(this.renderCurrentItems.bind(this),this.debounceWait)()}removeItem(e){return delete this.items[e.id]}removeItems(e){const t=e.map(s=>({item:s,removed:this.removeItem(s)}));return(0,V.D)(this.renderCurrentItems.bind(this),this.debounceWait)(),t}prefillHistory(e,t){for(const s of e.matchingFields){const r=Math.min(s.length,15);for(let n=0;n<=r;n++){const l=s.slice(0,n);this.addItemToHistory(l,t.buildPath(t,l),e)}}}get debounceWait(){return 16}renderCurrentItems(){const e=this.getQuery().immutableCopy();this.currentPath!==e.path&&this.reset();const t=[...this.currentItems];if(e.isPresent()&&t.length>0){const s=this.findGroup(O.O.topGroupId);for(let o=0;s&&o<s.limit;o++){const r=t[o],n=r.calculateScore(e.queryText),l=r.priority+n;r&&l>this.topGroupThreshold&&this.renderItem(t.shift(),O.O.topGroupId)}}this.renderItems(t),this.updateSelectedItem(),this.itemsUpdated()}itemsUpdated(){const e=new CustomEvent("itemsUpdated",{cancelable:!0,detail:{items:this.currentItems,queryPath:this.getQuery().immutableCopy().path}});return this.dispatchEvent(e)}selectedItemChanged(e){const t=new CustomEvent("selectedItemChanged",{bubbles:!0,cancelable:!0,detail:{item:e,isDefaultSelection:this.tryDefaultSelection}});return this.dispatchEvent(t)}renderItems(e){for(const t of e)this.renderItem(t,t.group);this.setGroupBorders(),this.setMaxHeight()}get maximumHeight(){const s=window.innerHeight*.5;return Math.min(s,475)}get innerContentHeight(){let e=0;for(const t of this.children){const s=t,o=getComputedStyle(s),r=parseInt(o.marginTop.replace("px",""),10),n=parseInt(o.marginBottom.replace("px",""),10),l=s.offsetHeight+r+n;s.offsetHeight>0&&(e+=l)}return e}setMaxHeight(){const t=this.maximumHeight*.6,s=Math.round(Math.min(this.maximumHeight,this.innerContentHeight));Math.abs(this.currentHeight-s)>t?this.classList.add("no-transition"):this.classList.remove("no-transition"),this.setAttribute("style",`max-height:${s}px; min-height:${s}px;`),this.currentHeight=s}setGroupBorders(){if(this.visibleGroups.length>0){this.visibleGroups[0].classList.remove("border-top");for(const e of this.visibleGroups)this.visibleGroups.indexOf(e)===0?(e.classList.remove("border-top"),e.header&&(e.classList.remove("py-2"),e.classList.add("mb-2","mt-3"))):(e.classList.add("border-top"),e.header&&(e.classList.remove("mb-2","mt-3"),e.classList.add("py-2")))}}createItemElementAndRender(e,t,s){const o=new Le.F;return o.setItemAttributes(e),o.render(t,s),o}renderItem(e,t){var s;const o=this.findGroup(t);if(!o||(o.hasItem(e)||o.atLimit||((s=this.topGroup)==null?void 0:s.hasItem(e)))&&!(o==null?void 0:o.topGroup))return;const r=this.createItemElementAndRender(e,!1,this.getQuery().immutableCopy().queryText);if(this.showDebugInfo&&(r.score=e.score),o.push(r),r.containerElement){const l=o.list.children.length.toString();e.position=l}if(e.icon)if(e.icon.type==="octicon"){const l=this.octicons[e.icon.id],L=this.octicons["dash-color-fg-muted"];r.renderOcticon(l||L)}else e.icon.type==="avatar"&&r.renderAvatar(e.icon.url,e.icon.alt);else r.iconElement.hidden=!0;r.addEventListener("mousemove",l=>{(l.movementX!==0||l.movementY!==0)&&this.selectedItem!==r&&(this.tryDefaultSelection=!1,this.selectedItem=r)})}findGroup(e){return this.groups.find(t=>t.groupId===e)}get topGroup(){return this.findGroup(O.O.topGroupId)}get groupIds(){return this.groups.map(e=>e.groupId)}updateSelectedItem(){this.isSelectedItemInvalid()&&this.clearSelection(),this.setDefaultSelection()&&(this.selectedItem=this.firstItem)}setDefaultSelection(){const e=this.getQuery().hasScope()||this.getQuery().isPresent();return this.tryDefaultSelection&&e}noItemSelected(){return!this.selectedItem||this.isSelectedItemInvalid()}isSelectedItemInvalid(){return!this.currentItems.some(e=>{var t;return e.id===((t=this.selectedItem)==null?void 0:t.itemId)})}isEmpty(){return!this.currentItems||this.currentItems.length===0}clearSelection(){this.selectedItem=void 0}clear(){this.history={},this.items={},this.reset()}reset(){this.tryDefaultSelection=!0,this.currentPath=this.getQuery().immutableCopy().path;for(const e of this.groups)e.prepareForNewItems()}clearItemsFor(e){const t=this.groups.filter(o=>e.includes(o.groupId));for(const o of t)o.prepareForNewItems();const s=Object.values(this.items).filter(o=>e.includes(o.group));this.removeItems(s)}get visibleGroups(){return this.groups.filter(e=>!e.hidden)}get firstItem(){const e=this.visibleGroups;if(e.length>0)return e[0].querySelector("command-palette-item")}get currentItems(){const e=this.getQuery().immutableCopy(),t=this.historyItems(e.path),s=Object.entries(t).map(([o,r])=>{const n=this.items[o];return n?(n.score=r,n):(delete t[o],null)}).filter(o=>o!==null);return s?e.isBlank()?s.sort((o,r)=>r.priority-o.priority):s.sort((o,r)=>r.score-o.score||r.priority-o.priority):[]}disconnectedCallback(){this.unbindListeners()}bindListeners(){this.eventListenersBound||(window.addEventListener("resize",this.setMaxHeight.bind(this)),this.eventListenersBound=!0)}unbindListeners(){window.removeEventListener("resize",this.setMaxHeight.bind(this)),this.eventListenersBound=!1}},"CommandPaletteItemStackElement");k([a.Lj],D.prototype,"topGroupThreshold",2),k([a.Lj],D.prototype,"maxHeightVh",2),k([a.Lj],D.prototype,"showDebugInfo",2),k([a.GO],D.prototype,"groups",2),D=k([a.Ih],D);var De=c(15746),dt=c(13957),Ae=c(51404),F=c(93312),K=c(46931),Me=c(18375);class Q extends K.t{async fetchSrc(t){if(!this.src)throw new Error("No src provided");const s=new URL(this.src,window.location.origin);s.search=t.params().toString();const r=await(await fetch(s.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json(),n=r.results[0];if(n.base_file_path){const l=n.base_file_path,L=n.paths;r.results=L.map(f=>F.s.from({title:f,path:`${l}/${f}`,icon:"file-color-fg-muted",group:"files"}))}else n.action&&n.action.type==="access_policy"?r.results=[new Ae.i(n)]:r.results=[];return r}async fetch(t,s=!1){const o=t.text.match(/(.+):(\d*)\s*$/);return o?this.fetchWithLineNumbers(t,o):super.fetch(t,s)}async fetchWithLineNumbers(t,s){const o=s[1],r=s[2],n=new Me.A(o,t.mode,{scope:t.scope}),l=[],L=(await super.fetch(n,!1)).results;for(const f of L)f instanceof F.s&&l.push(this.convert(f,r));return{results:l}}convert(t,s){return s===""||!(t instanceof F.s)||(t.title=`${t.title}:${s}`,t.action.path=`${t.action.path}#L${s}`),t}}i(Q,"FilesProvider");var J=c(90841);class X extends J.j{enabledFor(t){return!0}clearCache(){}get hasCommands(){return!1}get debounce(){return 0}async fetch(t,s=!1){return t.mode==="?"||s?{results:Array.from(this.element.querySelectorAll("command-palette-help")).filter(n=>n.show(t)).map((n,l)=>n.toItem(l))}:{results:[]}}}i(X,"HelpProvider");var Be=c(55871),He=c(85549);class Y extends J.j{enabledFor(t){return!(t.isBlank()||t.mode==="?"||t.mode===">")}clearCache(){}get hasCommands(){return!1}async fetch(t,s=!1){return{results:[He.K.create(t)]}}}i(Y,"SearchLinksProvider");class ${static create(t){const s=this.providers[t.type];if(!s)throw new Error(`Unknown provider type: ${t.type}`);return new s(t)}}i($,"ServerDefinedProviderFactory"),$.providers={remote:Be.x,prefetched:K.t,files:Q,help:X,"search-links":Y};var Oe=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,w=i((e,t,s,o)=>{for(var r=o>1?void 0:o?ke(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&Oe(t,s,r),r},"server_defined_provider_element_decorateClass");let E=i(class extends De.b{constructor(){super(...arguments);this._wildcard="*"}get debounce(){return parseInt(this.fetchDebounce,10)}get hasCommands(){return this.supportsCommands}get hasWildCard(){return this.modes.includes(this._wildcard)}get modes(){return this.supportedModes===""&&(this._modes=[""]),this._modes||(this._modes=JSON.parse(this.supportedModes)),this._modes}get scopeTypes(){return this.supportedScopeTypes===""?[]:(this._scopeTypes||(this._scopeTypes=JSON.parse(this.supportedScopeTypes)),this._scopeTypes)}connectedCallback(){this.provider=$.create(this)}},"ServerDefinedProviderElement");w([a.Lj],E.prototype,"type",2),w([a.Lj],E.prototype,"supportedModes",2),w([a.Lj],E.prototype,"fetchDebounce",2),w([a.Lj],E.prototype,"supportedScopeTypes",2),w([a.Lj],E.prototype,"src",2),w([a.Lj],E.prototype,"supportsCommands",2),E=w([a.Ih],E);var qe=c(50467),Ge=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,A=i((e,t,s,o)=>{for(var r=o>1?void 0:o?Re(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&Ge(t,s,r),r},"command_palette_help_element_decorateClass");let x=i(class extends HTMLElement{connectedCallback(){this.hidden=!0}show(e){return this.isEnabledScopeType(e)}isEnabledScopeType(e){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(e.scope.type):!0}toItem(e){const t={group:this.group,title:this.titleElement.innerHTML,index:e};return this.prefix&&(t.prefix=this.prefix),this.hintElement.textContent&&(t.persistentHint=this.hintElement.innerHTML),qe.B.from(t)}},"CommandPaletteHelpElement");A([a.Lj],x.prototype,"group",2),A([a.Lj],x.prototype,"prefix",2),A([a.Lj],x.prototype,"scopeTypes",2),A([a.fA],x.prototype,"titleElement",2),A([a.fA],x.prototype,"hintElement",2),x=A([a.Ih],x);var ht=c(99149),mt=c(73380),pt=c(2454),ft=c(78292),Fe=c(88684);class d{constructor(){this.group="commands",this.priority=0,this.dismissAfterRun=!0}static get item(){return new Fe.U(new this)}run(t){new Error("Not implemented")}isApplicable(t){return!0}select(){}deselect(){}}i(d,"MainWindowCommand");class ee extends d{constructor(){super(...arguments);this.title="Delete discussion\u2026",this.icon="trash-color-fg-muted"}get deleteButton(){return document.querySelector("button#dialog-show-delete-discussion")}get dialogElement(){return document.querySelector("#delete-discussion")}fetchDetails(){return document.querySelector("details.js-delete-discussion-details")}isApplicable(){return this.deleteButton!=null||this.fetchDetails()instanceof HTMLDetailsElement}run(){const t=this.deleteButton;if(t){t.click(),setTimeout(()=>{var o,r;(r=(o=this.dialogElement)==null?void 0:o.querySelector('button[type="submit"]'))==null||r.focus()},0);return}const s=this.fetchDetails();s&&(s.open=!0,setTimeout(()=>{var o;(o=s==null?void 0:s.querySelector('button[type="submit"]'))==null||o.focus()},0))}}i(ee,"DeleteDiscussion");class te extends d{constructor(){super(...arguments);this.title="Edit discussion body",this.icon="pencil-color-fg-muted"}get editButton(){return document.querySelector(".js-discussions-comment-edit-button")}isApplicable(){return this.editButton!=null}run(){var t;(t=this.editButton)==null||t.click()}}i(te,"EditDiscussion");class se extends d{constructor(){super(...arguments);this.title="Transfer discussion\u2026",this.icon="arrow-right-color-fg-muted"}fetchDetails(){return document.querySelector("details.js-transfer-discussion-details")}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}run(){var t;const s=this.fetchDetails();if(s){const o=i(()=>{setTimeout(()=>{var r;(r=s==null?void 0:s.querySelector("[data-menu-button]"))==null||r.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",o),s.open=!0,o()}}}i(se,"TransferDiscussion");const $e=[ee,se,te];var P=c(32885);class oe extends d{constructor(){super(...arguments);this.group="global_commands"}}i(oe,"MainWindowGlobalCommand");class re extends d{constructor(){super(...arguments);this.title="Open in github.dev editor",this.icon="codespaces-color-fg-muted",this.priority=10}isApplicable(){return this.fetchLink()instanceof HTMLAnchorElement}fetchLink(){return document.querySelector(".js-github-dev-shortcut")}run(){var t;(t=this.fetchLink())==null||t.click()}}i(re,"OpenInDotDev");class M extends oe{constructor(){super(...arguments);this.title="Switch theme to default dark",this.icon="moon-color-fg-muted",this.mode="dark",this.theme="dark"}select(){this.loadStyles(this.theme)}applyTheme(){this.loadStyles(this.theme),this.mode!=="auto"&&(0,P.on)(this.theme,this.mode),(0,P.h5)(this.mode)}async run(){this.applyTheme(),this.saveSettings(this.mode,this.lightTheme,this.darkTheme)}async saveSettings(t=this.mode,s,o){const r=document.querySelector(".js-color-mode-csrf").value,n=document.querySelector(".js-color-mode-path").value,l=new FormData;l.set("color_mode",t),s&&l.set("light_theme",s),o&&l.set("dark_theme",o);const f=await(await fetch(n,{method:"PUT",body:l,mode:"same-origin",headers:{"Scoped-CSRF-Token":r,"X-Requested-With":"XMLHttpRequest"}})).json();this.loadStyles(f.light_theme),this.loadStyles(f.dark_theme),(0,P.on)(f.light_theme,"light"),(0,P.on)(f.dark_theme,"dark"),(0,P.h5)(f.color_mode)}loadStyles(t){const s=document.querySelector(`link[data-color-theme='${t}']`);s&&!s.hasAttribute("href")&&s.hasAttribute("data-href")&&s.setAttribute("href",s.getAttribute("data-href"))}get darkTheme(){return this.mode==="dark"?this.theme:(0,P.yn)("dark")}get lightTheme(){return this.mode==="light"?this.theme:(0,P.yn)("light")}}i(M,"SwitchToDark");class ie extends M{constructor(){super(...arguments);this.title="Switch theme to dark high contrast",this.theme="dark_high_contrast"}}i(ie,"SwitchToDarkHighConstrast");class ne extends M{constructor(){super(...arguments);this.title="Switch theme to dark dimmed",this.theme="dark_dimmed"}}i(ne,"SwitchToDarkDimmed");class le extends M{constructor(){super(...arguments);this.title="Switch theme to default light",this.icon="sun-color-fg-muted",this.mode="light",this.theme="light"}}i(le,"SwitchToLight");class ae extends M{constructor(){super(...arguments);this.title="Switch theme settings to sync with system",this.icon="sun-color-fg-muted",this.mode="auto"}get darkTheme(){}get lightTheme(){}}i(ae,"SwitchToAuto");class ce extends d{constructor(){super();const t=this.isSubscribe();this.title=`${t?"Subscribe":"Unsubscribe"}`,this.icon=`${t?"bell":"bell-slash"}-color-fg-muted`}isApplicable(){var t;return this.fetchButton()instanceof HTMLButtonElement&&((t=this.fetchButton())==null?void 0:t.disabled)===!1}isSubscribe(){var t,s;return((s=(t=this.fetchButton())==null?void 0:t.textContent)==null?void 0:s.trim())==="Subscribe"}fetchButton(){return document.querySelector(".thread-subscribe-button")}run(){var t;(t=this.fetchButton())==null||t.click()}}i(ce,"UpdateSubscription");const Ue=[re,le,M,ne,ie,ae,ce];function ue(e){e.focus(),e.selectionStart=e.selectionEnd=e.value.length}i(ue,"moveCursorToEnd");class U extends d{constructor(){super(...arguments);this.title="Edit issue body",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.isIssue()}run(){const t=document.createElement("button");t.hidden=!0,t.classList.add("js-comment-edit-button");const s=document.querySelector("div.js-comment");s==null||s.appendChild(t),t.click(),t.remove(),setTimeout(()=>{var o;const r=(o=s==null?void 0:s.parentElement)==null?void 0:o.querySelector("textarea.js-comment-field");r&&ue(r)},0)}}i(U,"EditIssueBody");class N extends d{constructor(){super(...arguments);this.title="Edit issue title",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isIssue()}fetchButton(){return document.querySelector(".js-title-edit-button")}run(){var t;(t=this.fetchButton())==null||t.click(),setTimeout(()=>{const s=document.querySelector("input#issue_title[autofocus]");s&&ue(s)},0)}}i(N,"EditIssueTitle");class de extends d{constructor(){super(...arguments);this.title="Transfer issue\u2026",this.icon="arrow-right-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-transfer-issue")}run(){var t;const s=this.fetchDetails();if(s){const o=i(()=>{setTimeout(()=>{var r;(r=s.querySelector("[data-menu-button]"))==null||r.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",o),s.open=!0,o()}}}i(de,"TransferIssue");class he extends d{constructor(){super();const t=this.isLock();this.title=`${t?"Lock":"Unlock"} conversation`,this.icon=`${t?"lock":"key"}-color-fg-muted`}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}isLock(){var t,s;return((s=(t=document.querySelector("summary.lock-toggle-link"))==null?void 0:t.textContent)==null?void 0:s.trim())==="Lock conversation"}fetchDetails(){return document.querySelector("details.js-lock-issue")}run(){const t=this.fetchDetails();t&&(t.open=!0,setTimeout(()=>{var s;(s=document.querySelector("#unlock-reason"))==null||s.focus()},0))}}i(he,"LockIssue");class me extends d{constructor(){super(...arguments);this.title="Delete issue\u2026",this.icon="trash-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-delete-issue")}run(){const t=this.fetchDetails();t&&(t.open=!0,setTimeout(()=>{var s;(s=t.querySelector('button[type="submit"]'))==null||s.focus()},0))}}i(me,"DeleteIssue");class pe extends d{constructor(){super(...arguments);this.title="Convert issue to discussion\u2026",this.icon="comment-discussion-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-convert-to-discussion")}run(){var t;const s=this.fetchDetails();if(s){const o=i(()=>{setTimeout(()=>{var r;(r=s.querySelector("[data-menu-button]"))==null||r.focus()},0)},"focusMenu");(t=s.querySelector("include-fragment"))==null||t.addEventListener("load",o),s.open=!0,o()}}}i(pe,"ConvertToDiscussion");const Ne=[N,U,he,de,me,pe];var We=c(67939),I=c(71217);class W extends d{constructor(){super(...arguments);this.title="Open in new codespace",this.icon="codespaces-color-fg-muted",this.priority=11}isApplicable(){const t=this.fetchElements();return!!(t.codeModal&&t.codespacesForm&&t.newCodespacesButton&&t.codespacesTab)}run(){const{codeModal:t,codespacesTab:s,newCodespacesButton:o}=this.fetchElements();!(t&&s&&o)||(t.open=!0,s.click(),o instanceof HTMLButtonElement?o.click():(o.parentElement.open=!0,setTimeout(()=>{var r;(r=document.querySelector(".js-create-codespace-with-sku-button"))==null||r.focus()},0)))}fetchElements(){const t=document.querySelector(".js-create-codespaces-form-command"),s=(t==null?void 0:t.closest("details"))||null,o=(s==null?void 0:s.querySelector('[data-tab="cloud"]'))||null,r=(t==null?void 0:t.querySelector('summary[role="button"], button[type="submit"]'))||null;return{codespacesForm:t,codeModal:s,codespacesTab:o,newCodespacesButton:r}}}i(W,"OpenCodespace");var q=c(24741);class fe extends U{constructor(){super(...arguments);this.title="Edit pull request body"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.isPullRequest()}}i(fe,"EditPullRequestBody");class ye extends N{constructor(){super(...arguments);this.title="Edit pull request title"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isPullRequest()}}i(ye,"EditPullRequestTitle");class ve extends d{constructor(){super(...arguments);this.title="Update current branch",this.icon="sync-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-update-branch-form button")}run(){const t=this.fetchButton();t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.click())}}i(ve,"UpdateBranch");class ge extends d{constructor(){super(...arguments);this.title="Convert to draft",this.icon="git-pull-request-draft-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-convert-to-draft")}run(){var t;const s=(t=this.fetchButton())==null?void 0:t.closest("details");s&&(s.open=!0,setTimeout(()=>{var o;(o=s.querySelector(".js-convert-to-draft"))==null||o.focus()},0))}}i(ge,"ConvertToDraft");class be extends d{constructor(){super(...arguments);this.title="Copy current branch name",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof I.Z}fetchClipboardCopy(){return document.querySelector(".js-copy-branch")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof I.Z){const o=s.value;try{await(0,q.z)(o),t.displayFlash("success","Branch name copied to clipboard!")}catch{t.displayFlash("error","Unable to copy branch name to clipboard!")}}}}i(be,"CopyBranchName");const Ze=[be,ye,fe,ve,ge,W];class Ce extends d{constructor(){super(...arguments);this.title="Copy file permalink",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchPermalinkContainer()instanceof HTMLAnchorElement}fetchPermalinkContainer(){return document.querySelector(".js-permalink-shortcut")}async run(t){const s=this.fetchPermalinkContainer();if(s){const o=`${s.href}${window.location.hash}`;try{await(0,q.z)(o),t.displayFlash("success","Copied permalink!")}catch{t.displayFlash("error","Failed to copy permalink!")}}}}i(Ce,"CopyPermalink");class Se extends d{constructor(){super(...arguments);this.title="Clone repository: Copy HTTPS",this.icon="copy-color-fg-muted",this.priority=4}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof I.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-http")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof I.Z){const o=s.value;try{await(0,q.z)(o),t.displayFlash("success","Clone URL copied!")}catch{t.displayFlash("error","Clone URL couldn't be copied")}}}}i(Se,"CloneCopyHttps");class Ee extends d{constructor(){super(...arguments);this.title="Clone repository: Copy SSH",this.icon="copy-color-fg-muted",this.priority=3}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof I.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-ssh")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof I.Z){const o=s.value;try{await(0,q.z)(o),t.displayFlash("success","Clone URL copied!")}catch{t.displayFlash("error","Clone URL couldn't be copied")}}}}i(Ee,"CloneCopySsh");class Ie extends d{constructor(){super(...arguments);this.title="Clone repository: Copy GitHub CLI",this.icon="copy-color-fg-muted",this.priority=2}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof I.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-gh-cli")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(t){const s=this.fetchClipboardCopy();if(s instanceof I.Z){const o=s.value;try{await(0,q.z)(o),t.displayFlash("success","Clone URL copied!")}catch{t.displayFlash("error","Clone URL couldn't be copied")}}}}i(Ie,"CloneCopyCli");const ze=[Se,Ee,Ie,Ce,W];class Z extends We.B{constructor(){super(...arguments);this.itemsByType={},this.items=[],this.needsFetch=!0}enabledFor(t){return t.mode===">"}get hasCommands(){return!0}async fetch(t,s=!1){return this.loadCommandItems(t),{results:t.isBlank()?this.items:this.fuzzyFilter(this.items,t)}}get debounce(){return 0}loadCommandItems(t){this.needsFetch&&(this.items=[...Ne.map(s=>s.item),...Ze.map(s=>s.item),...ze.map(s=>s.item),...$e.map(s=>s.item),...Ue.map(s=>s.item)].filter(s=>s.isApplicable(t)),this.needsFetch=!1)}clearCache(){this.needsFetch=!0}}i(Z,"MainWindowCommandsProvider"),window.commandPalette?window.commandPalette.registerProvider("main-window-commands-provider",new Z):window.addEventListener("command-palette-ready",()=>{var e;(e=window.commandPalette)==null||e.registerProvider("main-window-commands-provider",new Z)});var B=c(26351),Ve=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,Te=i((e,t,s,o)=>{for(var r=o>1?void 0:o?Ke(t,s):t,n=e.length-1,l;n>=0;n--)(l=e[n])&&(r=(o?l(t,s,r):l(r))||r);return o&&r&&Ve(t,s,r),r},"command_palette_input_element_decorateClass");let G=i(class extends HTMLElement{constructor(){super(...arguments);this.setupComplete=!1,this.connected=!1,this.multiPageEnabled=!1}static get observedAttributes(){return["value","typeahead","scope"]}setup(){this.classList.add("d-flex","flex-items-center","flex-nowrap","py-1","pl-3","pr-2","border-bottom"),this.input=this.querySelector("input.js-input"),this.overlayInput=this.querySelector("input.js-overlay-input"),this.clearButton=this.querySelector(".js-clear"),this.scopeElement=this.querySelector("command-palette-scope"),this.searchIcon=this.querySelector(".js-search-icon"),this.spinner=this.querySelector(".js-spinner"),this.defaultScope=this.scope,this.hasAttribute("autofocus")&&this.input.focus(),this.clearButton.hidden=!0,this.value.length!==0&&this._dispatchEvent("command-palette-input"),this.setupComplete=!0}connectedCallback(){this.setupComplete||this.setup(),this.value=this.getAttribute("value")||"",this.typeahead=this.getAttribute("typeahead")||"",this.placeholder=this.getAttribute("placeholder")||"",this.connected=!0}attributeChangedCallback(e,t,s){!this.input||(e==="typeahead"?this.typeahead=s:e==="value"&&(this.value=s,this._dispatchEvent("command-palette-input")))}focus(){this.input.focus()}setRemovedTokenAndSelect(e){e&&(this.value=e),this.focus(),this.input.select()}get scope(){return this.scopeElement.scope}set scope(e){this.scopeElement.scope=e,this.clearButton.hidden=!this.hasSomethingToClear()}hasScope(){return this.scopeElement.hasScope()}clearScope(){return this.scopeElement.clearScope()}removeToken(){return this.scopeElement.removeToken()}get placeholder(){return this.input.getAttribute("placeholder")||""}set placeholder(e){this.input.setAttribute("placeholder",e)}get typeaheadPlaceholder(){var e;return((e=(0,a.P4)(this,"typeaheadPlaceholder"))==null?void 0:e.textContent)||""}set typeaheadPlaceholder(e){const t=(0,a.P4)(this,"typeaheadPlaceholder");t.textContent=e}get value(){var e;return((e=this.input)==null?void 0:e.value)||""}set value(e){this.input.value=e,this.typeahead=e,this.resetPlaceholder(),this.onInput()}get overlay(){return this.overlayInput.value}set overlay(e){this.overlayInput.value=e}set mirror(e){const t=(0,a.P4)(this,"mirror");t.textContent=e}get typeaheadText(){return(0,a.P4)(this,"typeaheadText").textContent||""}set typeaheadText(e){const t=(0,a.P4)(this,"typeaheadText");t.textContent=e}get typeahead(){return this.typeaheadValue}set typeahead(e){if(this.typeaheadValue=this.overlay+e,this.mirror=this.value,e==="")this.typeaheadText="";else if(this.placeholder="",this.typeaheadPlaceholder="",this.valueStartsWithTypeahead){const t=this.value.length-(this.overlay?1:0);this.typeaheadText=e.substring(t)}else this.typeaheadText=` \u2013 ${e}`}showModePlaceholder(e=""){this.typeaheadPlaceholder=e}get valueStartsWithTypeahead(){return this.typeaheadValue.toLowerCase().startsWith(this.value.toLowerCase())}get isCursorAtEnd(){return this.value.length===this.input.selectionStart}set loading(e){this.spinner.hidden=!e,this.searchIcon.hidden=e}resetScopeIfNeeded(){!this.multiPageEnabled&&this.value===""&&this.scope.id!==this.defaultScope.id&&(this.scope=this.defaultScope)}resetPlaceholder(){this.value.replace(this.overlay,"")&&this.overlay&&(this.typeaheadPlaceholder=""),this.placeholder=this.getAttribute("placeholder")||""}onInput(){this.resetPlaceholder(),this.clearButton.hidden=!this.hasSomethingToClear(),!!this.connected&&this._dispatchEvent("command-palette-input")}onClear(e){e instanceof KeyboardEvent&&e.key!=="Escape"||(this.value="",this.input.focus(),this._dispatchEvent("command-palette-cleared"))}onKeydown(e){if(this.isSelectKeystroke(e.key)&&(this._dispatchEvent("command-palette-select"),e.stopImmediatePropagation(),e.preventDefault()),this.hasSomethingToClear()&&(0,B.o)(e)&&e.key==="Backspace"){this.onClear();return}if(this.input.selectionStart===0&&this.input.selectionEnd===0&&(this.hasScope()||this.multiPageEnabled)&&e.key==="Backspace"){this._dispatchEvent("command-palette-descope"),e.stopImmediatePropagation(),e.preventDefault();return}}hasSomethingToClear(){return this.scopeElement.hasScope()||this.value.length>0}isSelectKeystroke(e){return e==="Tab"||e==="ArrowRight"&&this.isCursorAtEnd}textSelected(){return this.input.selectionStart!==this.input.selectionEnd}_dispatchEvent(e){const t=new CustomEvent(e,{cancelable:!0,detail:{typeahead:this.typeahead,value:this.value}});return this.dispatchEvent(t)}},"CommandPaletteInputElement");G.tagName="command-palette-input",Te([a.Lj],G.prototype,"multiPageEnabled",2),G=Te([a.Ih],G);var Qe=c(13178),Je=c(27157),Xe=c(4364),Ye=c(30762);window.customElements.get(B.Z.tagName)||window.customElements.define(B.Z.tagName,B.Z);function et(e){e.clearCommands(!1)}i(et,"clearCommandCaches");function tt(){const e=we();if(!e)return;const t=e.closest(".js-command-palette-dialog");!t||(t.addEventListener("toggle",()=>{t.open?e.activate():e.deactivate()}),document.addEventListener("keydown",st),(0,Ye.N7)(".js-socket-channel.js-updatable-content",{subscribe:s=>(0,Je.RB)(s,"socket:message",()=>et(e))}))}i(tt,"observeCommandPalette");function we(){return document.querySelector(B.Z.tagName)}i(we,"findCommandPalette");function st(e){if(!e.code)return;const t=we();if(!t)return;const s=nt(),o=R(t.platformCommandModeHotkey,e),r=!ot(e)&&!s&&(R(t.platformActivationHotkey,e)||o),n=!s&&(R(t.platformSecondardActivationHotkey,e)||o),l=t.hasAttribute("data-memex-hotkey-enabled")&&s&&R(t.platformMemexActivationHotkey,e);(r||n||l)&&(lt(o),e.preventDefault(),e.stopPropagation())}i(st,"handleKeyDown");function R(e,t){let s=(0,Qe.EL)(t);return s=s.replace("\u02DA","k"),e.split(",").some(o=>s===o)}i(R,"hotkeyMatchesEvent");function ot(e){return rt(e)||it(e)}i(ot,"shouldIgnoreActivation");function rt(e){const t=e.target;return t?t.closest(".js-previewable-comment-form")!==null:!1}i(rt,"triggeredInsideAPreviewableCommentForm");function it(e){const t=e.target;if(!t)return!1;const s=t.closest(".js-code-editor");if(!s)return!1;const o=(0,Xe.P)(s);if(!o)return!1;const r=o.editor;if(!r)return!1;const n=r.getMode().name;return n==="gfm"||n==="markdown"}i(it,"triggeredInsideAMarkdownCodeEditor");function nt(){return!!document.querySelector("#memex-root")}i(nt,"triggeredInsideMemex");function lt(e){for(const t of document.querySelectorAll(".js-command-palette-dialog")){const s=t.querySelector(G.tagName);if(!s)return;if(t.open)t.open=!1;else{at(s,e);const o=t.querySelector(B.Z.tagName);o&&(o.previouslyActiveElement=document.activeElement),t.open=!0}}}i(lt,"toggleCommandPalette");function at(e,t){const s=e.value.startsWith(">");return t&&!s?(e.value=`>${e.value}`,!0):!t&&s?(e.value=e.value.substring(1),!0):!1}i(at,"toggleCommandMode"),tt()},4364:(y,v,c)=>{c.d(v,{P:()=>T,g:()=>m});var a=c(11427);const g=new WeakMap;function T(u){return g.get(u)}i(T,"getCodeEditor");async function m(u){return g.get(u)||p(await h(u,"codeEditor:ready"))}i(m,"getAsyncCodeEditor");function p(u){if(!(u instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const b=u.detail.editor;if(!u.target)throw new Error("assert: event.target is null");return g.set(u.target,b),b}i(p,"onEditorFromEvent"),(0,a.on)("codeEditor:ready",".js-code-editor",p);function h(u,b){return new Promise(C=>{u.addEventListener(b,C,{once:!0})})}i(h,"nextEvent")},32885:(y,v,c)=>{c.d(v,{I3:()=>a,h5:()=>T,on:()=>m,yn:()=>p});function a(){if(g("dark"))return"dark";if(g("light"))return"light"}i(a,"getPreferredColorMode");function g(h){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${h})`).matches}i(g,"prefersColorScheme");function T(h){const u=document.querySelector("html[data-color-mode]");!u||u.setAttribute("data-color-mode",h)}i(T,"setClientMode");function m(h,u){const b=document.querySelector("html[data-color-mode]");!b||b.setAttribute(`data-${u}-theme`,h)}i(m,"setClientTheme");function p(h){const u=document.querySelector("html[data-color-mode]");if(!!u)return u.getAttribute(`data-${h}-theme`)}i(p,"getClientTheme")},27157:(y,v,c)=>{c.d(v,{RB:()=>g,qC:()=>T,w0:()=>a});class a{constructor(p){this.closed=!1,this.unsubscribe=()=>{p(),this.closed=!0}}}i(a,"Subscription");function g(m,p,h,u={capture:!1}){return m.addEventListener(p,h,u),new a(()=>{m.removeEventListener(p,h,u)})}i(g,"fromEvent");function T(...m){return new a(()=>{for(const p of m)p.unsubscribe()})}i(T,"compose")}},y=>{var v=i(a=>y(y.s=a),"__webpack_exec__");y.O(0,[762,2403,2243,7253],()=>v(80810));var c=y.O()}]);})();

//# sourceMappingURL=command-palette-1b447592d4b4.js.map